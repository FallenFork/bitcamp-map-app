(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[752],{2016:()=>{},5863:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>p});var i=n(5155),o=n(2115),a=n(2200),t=n(285),s=n(6695),d=n(2523),r=n(7967);n.n(r)().config();let c={width:"100%",height:"500px"},u={lat:20,lng:0},p=()=>{let[e,l]=(0,o.useState)(null),[n,r]=(0,o.useState)([]),[p,g]=(0,o.useState)(null),[m,h]=(0,o.useState)(""),x=(0,o.useRef)(null),v=(0,o.useRef)(null),j=(0,o.useCallback)(e=>{l(e),x.current=new google.maps.Geocoder,v.current=new google.maps.ElevationService},[]),C=(0,o.useCallback)(()=>{l(null)},[]),f=(0,o.useCallback)(e=>{if(e.latLng){let l={id:Date.now(),position:{lat:e.latLng.lat(),lng:e.latLng.lng()},elevation:null,loading:!0};r(e=>[...e,l]),v.current&&v.current.getElevationForLocations({locations:[{lat:e.latLng.lat(),lng:e.latLng.lng()}]},(e,n)=>{"OK"===n&&e&&e[0]?r(n=>n.map(n=>n.id===l.id?{...n,elevation:e[0].elevation,loading:!1}:n)):r(e=>e.map(e=>e.id===l.id?{...e,elevation:null,loading:!1}:e))})}},[]),N=()=>{x.current&&""!==m.trim()&&x.current.geocode({address:m},(l,n)=>{if("OK"===n&&l&&l[0]){let n=l[0].geometry.location;e&&(e.setCenter(n),e.setZoom(14));let i={id:Date.now(),position:{lat:n.lat(),lng:n.lng()},elevation:null,loading:!0};r(e=>[...e,i]),v.current&&v.current.getElevationForLocations({locations:[{lat:n.lat(),lng:n.lng()}]},(e,l)=>{"OK"===l&&e&&e[0]?r(l=>l.map(l=>l.id===i.id?{...l,elevation:e[0].elevation,loading:!1}:l)):r(e=>e.map(e=>e.id===i.id?{...e,elevation:null,loading:!1}:e))})}})};return(0,i.jsxs)("div",{className:"relative w-full",children:[(0,i.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,i.jsx)(d.p,{type:"text",placeholder:"Search for a location",value:m,onChange:e=>h(e.target.value),onKeyDown:e=>"Enter"===e.key&&N(),className:"flex-grow"}),(0,i.jsx)(t.$,{onClick:N,children:"Search"}),(0,i.jsx)(t.$,{variant:"outline",onClick:()=>{r([]),g(null)},children:"Clear Map"})]}),(0,i.jsx)(s.Zp,{className:"border border-border shadow-sm",children:(0,i.jsx)(s.Wu,{className:"p-0 overflow-hidden rounded-md",children:(0,i.jsx)(a.aJ,{googleMapsApiKey:"AIzaSyCCrwtCCqiiPY36JobYhYm0cy3gyoApdyU",libraries:["places"],children:(0,i.jsxs)(a.u6,{mapContainerStyle:c,center:u,zoom:2,onClick:f,onLoad:j,onUnmount:C,options:{fullscreenControl:!0,mapTypeControl:!0,streetViewControl:!1,zoomControl:!0},children:[n.map(e=>(0,i.jsx)(a.pH,{position:e.position,onClick:()=>g(e)},e.id)),p&&(0,i.jsx)(a.Fu,{position:p.position,onCloseClick:()=>g(null),children:(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Location Information"}),(0,i.jsxs)("p",{children:["Latitude: ",p.position.lat.toFixed(6)]}),(0,i.jsxs)("p",{children:["Longitude: ",p.position.lng.toFixed(6)]}),(0,i.jsxs)("p",{children:["Elevation: ",p.loading?"Loading...":null!==p.elevation?"".concat(p.elevation.toFixed(2)," meters"):"Not available"]})]})})]})})})}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Elevation Results"}),n.length>0?(0,i.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,i.jsx)(s.Zp,{className:"p-3",children:(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:["Lat: ",e.position.lat.toFixed(6),", Lng: ",e.position.lng.toFixed(6)]}),(0,i.jsxs)("p",{className:"font-medium",children:["Elevation: ",e.loading?"Loading...":null!==e.elevation?"".concat(e.elevation.toFixed(2)," meters"):"Not available"]})]}),(0,i.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>{r(l=>l.filter(l=>l.id!==e.id)),(null==p?void 0:p.id)===e.id&&g(null)},children:"Remove"})]})},e.id))}):(0,i.jsx)("p",{className:"text-muted-foreground",children:"No elevation data. Click on the map to place markers."})]})]})}}}]);